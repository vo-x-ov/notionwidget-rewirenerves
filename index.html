<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Rewire Nerves Widget</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="widget-container">
    <header class="widget-header">
      <div class="widget-title">
        <span class="widget-icon">üß†</span>
        <div>
          <h1>Rewire Nerves</h1>
          <p class="widget-subtitle">State-shift protocols at a glance</p>
        </div>
      </div>
      <div class="widget-select-group">
        <div class="widget-select-wrapper">
          <label for="categorySelect">Type:</label>
          <select id="categorySelect"></select>
        </div>
        <div class="widget-select-wrapper">
          <label for="protocolSelect">Protocol:</label>
          <select id="protocolSelect"></select>
        </div>
      </div>
    </header>

    <main class="widget-body">
      <div id="microMantra" class="micro-mantra"></div>

      <h2 id="protocolName"></h2>
      <p id="protocolTags" class="protocol-tags"></p>
      <pre id="protocolBody" class="protocol-text"></pre>
    </main>

    <footer class="widget-footer">
      <div class="footer-buttons-main">
        <button id="completeBtn" class="complete-btn">Mark as completed</button>
        <button id="randomBtn" class="random-btn">Random protocol</button>
        <button id="settingsToggle" class="settings-btn" aria-expanded="false" title="Open settings">‚öôÔ∏è</button>
      </div>

      <div id="settingsPanel" class="settings-panel">
        <div class="settings-section">
          <h3>Add protocol</h3>
          <div class="settings-field">
            <label for="addName">Name</label>
            <input id="addName" type="text" placeholder="e.g., Trading ‚Äì Micro Pullback Reset" />
          </div>
          <div class="settings-field">
            <label for="addCategory">Category</label>
            <input id="addCategory" type="text" placeholder="Trading, Parenting, Relationship, Self‚Ä¶" />
          </div>
          <div class="settings-field">
            <label for="addTags">Tags (optional)</label>
            <input id="addTags" type="text" placeholder="comma-separated, e.g. Calm, Breathwork" />
          </div>
          <div class="settings-field">
            <label for="addBody">Protocol body</label>
            <textarea id="addBody" rows="4" placeholder="Steps, affirmations, breaths‚Ä¶"></textarea>
          </div>
          <div class="settings-buttons">
            <button id="addSaveBtn" class="small-btn">Save</button>
            <button id="addClearBtn" class="small-btn secondary-btn">Clear</button>
          </div>
        </div>

        <div class="settings-section">
          <div class="settings-archive-header">
            <h3>Archive</h3>
            <button id="archiveCurrentBtn" class="small-btn">Archive current</button>
          </div>
          <div id="archiveList" class="archive-list">
            <!-- archived protocols will render here -->
          </div>
        </div>
      </div>

      <div class="footer-text-blocks">
        <span id="completionInfo" class="widget-footer-text">
          Steady gains come from steady nervous systems.
        </span>
      </div>
    </footer>

    <div id="toast" class="toast"></div>
  </div>

  <script src="script.js"></script>
</body>
</html>
